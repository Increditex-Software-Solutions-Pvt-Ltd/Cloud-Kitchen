<%- include('./header.ejs');%>

	<div class="content container-fluid">
		<ul class="nav nav-pills mb-4" id="acount-voucher-tab" role="tablist">
			<li class="nav-item" role="presentation">
				<button class="btn btn-sm btn-outline-success active" id="batch-assign-tab" data-bs-toggle="tab"
					data-bs-target="#batch-assign-content" type="button" role="tab" aria-controls="batch-assign-content"
					aria-selected="false">Home Content</button>
			</li>
			<li class="nav-item" role="presentation">
				<button class="btn btn-sm btn-outline-success " id="sowing-tab" data-bs-toggle="tab"
					data-bs-target="#sowing" type="button" role="tab" aria-controls="sowing"
					aria-selected="true">Youtube management</button>
			</li>
			<li class="nav-item" role="presentation">
				<button class="btn btn-sm btn-outline-success" id="bef-germination-tab" data-bs-toggle="tab"
					data-bs-target="#bef-germination" type="button" role="tab" aria-controls="bef-germination"
					aria-selected="false">About us</button>
			</li>
			<li class="nav-item" role="presentation">
				<button class="btn btn-sm btn-outline-success" id="after-germination-tab" data-bs-toggle="tab"
					data-bs-target="#after-germination" type="button" role="tab" aria-controls="after-germination"
					aria-selected="false">Top Dishes</button>
			</li>


		</ul>
		<!-- Page Header -->

		<div class="tab-content">
			<div class="tab-pane active" id="batch-assign-content" role="tabpanel" aria-labelledby="batch-assign-tab">

				<div class="page-header">
					<div class="row align-items-center">
						<div class="col">
							<h1 class="page-header-title">
								Home content management</h1>
						</div>
						<!-- End Col -->
						<%if(!hasRecords){%>
							<div class="col-auto">
								<a class="btn btn-sm btn-dark" href="javascript:void(0)" onclick="addHomeCms()">
									<i class="bi-plus-circle me-1"></i>
									Add
								</a>
							</div>
							<%}%>

								<!-- End Col -->
					</div>
					<!-- End Row -->
				</div>
				<!-- End Page Header -->

				<div class="row">
					<% homeRecords.forEach((item)=>{%>
					<div class="col-md-2 col-sm-2 col-12">
						<button class="btn btn-dark text-center p-2"
												onclick="editHomeForm('<%-item.id%>')">
												<i class="bi-pencil-square mx-1"></i>Edit
											</button>
					</div>
					<div class="col-md-10 col-sm-10 col-12">
						<div class="row gy-3">
							<div class="col-md-6 col-sm-6 col-12">
								<div class="card">
									<div class="card-header bg-light">
										<h6 class="text-dark fw-semibold">MAINHEADING</h6>
									</div>
									<div class="card-body">	<%- item.mainHeading%></div>
								</div>
							</div>
							<div class="col-md-6 col-sm-6 col-12">
								<div class="card">
									<div class="card-header bg-light">
										<h6 class="text-dark fw-semibold">SERVICEHEADING</h6>
									</div>
									<div class="card-body"><%- item.serviceHeading%></div>
								</div>
							</div>
							<div class="col-md-6 col-sm-6 col-12">
								<div class="card">
									<div class="card-header bg-light">
										<h6 class="text-dark fw-semibold">SERVICE DESCRIPTION</h6>
									</div>
									<div class="card-body"><%- item.serviceDescription%></div>
								</div>
							</div>
							<div class="col-md-6 col-sm-6 col-12">
								<div class="card">
									<div class="card-header bg-light">
										<h6 class="text-dark fw-semibold">SERVICE SHORT INFO</h6>
									</div>
									<div class="card-body"><%- item.serviceShortInfo%></div>
								</div>
							</div>
							<div class="col-md-12 col-sm-12 col-12">
								<div class="card">
									<div class="card-header bg-light">
										<h6 class="text-dark fw-semibold">POPULARDISHES</h6>
									</div>
									<div class="card-body"><a onclick="viewExploreDishes('<%= item.id%>')" class="btn btn-sm btn-dark">view
										dishes</a></div>
								</div>
							</div>
						</div>
					</div>
					<%}) %>
				</div>

				
			</div>
			<div class="tab-pane" id="sowing" role="tabpanel" aria-labelledby="sowing-tab">
				<!-- Page Header -->
				<div class="page-header">
					<div class="row align-items-center">
						<div class="col">
							<h1 class="page-header-title">
								Youtube content</h1>
						</div>
						<!-- End Col -->
						<%if(!hasYoutubeRecords){%>
							<div class="col-auto">
								<a class="btn btn-sm btn-dark" href="javascript:void(0)" onclick="addYoutubeDetail()">
									<i class="bi-plus-circle me-1"></i>
									Add
								</a>
							</div>
							<%}%>
								<!-- End Col -->
					</div>
					<!-- End Row -->
				</div>
				<!-- End Page Header -->

				<div class="sowing-table-filters">
					<div class="row g-3 ">
						<div class="col-12 col-md-3">
							<div class="input-group input-group-sm">
								<div class="input-group-text">
									<i class="bi-search"></i>
								</div>
								<input type="search" class="form-control add-sowing-table-search"
									placeholder="Search here">
							</div>
						</div>

					</div>
				</div>
				<div class="table-responsive">
					<table id="sowing-table" class="table table-bordered  table-nowrap table-align-middle">
						<thead class="thead-light " align="left">
							<tr>
								<th>Action</th>
								<th>YoutubeThumbnail</th>
								<th>YoutubeLink</th>

							</tr>
						</thead>
						<tbody>
							<% youtubeRecords.forEach((item)=>{%>
								<tr class="home-row">
									<td>
										<div class="btn-group">
											<button class="btn btn-dark text-center p-2"
												onclick="editYoutubeDetail('<%-item.id%>')">
												<i class="bi-pencil-square mx-1"></i>Edit
											</button>

										</div>

									</td>
									<td>
										<% if (item.youtubeThumbnail) { %>
											<img src="http://localhost:8000/<%= item.youtubeThumbnail.replace(/\\/g, '/') %>"
												class="img-fluid" style="width: 250px; height: 170px;" alt="">
											<% } else { %>
												<span>No Thumbnail</span>
												<% } %>
									</td>
									<td>
										<%- item.youtubeLink%>
									</td>


								</tr>
								<%}) %>
						</tbody>
					</table>
				</div>
				<div class="sowing-table-footer"></div>
			</div>
			<div class="tab-pane" id="bef-germination" role="tabpanel" aria-labelledby="bef-germination-tab">
				<!-- Page Header -->
				<div class="page-header">
					<div class="row align-items-center">
						<div class="col">
							<h1 class="page-header-title">
								About content management</h1>
						</div>
						<%if(!hasAboutRecords){%>
							<div class="col-auto">
								<a class="btn btn-sm btn-dark" href="javascript:void(0)" onclick="addYoutubeDetail()">
									<i class="bi-plus-circle me-1"></i>
									Add
								</a>
							</div>
							<%}%>
								<!-- End Col -->

								<!-- End Col -->
					</div>
					<!-- End Row -->
				</div>
				<!-- End Page Header -->

				<div class="purchase-table-filters">
					<div class="row g-3">
						<div class="col-12 col-md-3">
							<div class="input-group input-group-sm">
								<div class="input-group-text">
									<i class="bi-search"></i>
								</div>
								<input type="search" class="form-control purchase-table-search"
									placeholder="Search here">
							</div>
						</div>


					</div>
				</div>
				<div class="table-responsive">
					<table id="bef-germination-table"
						class="w-100 table table-bordered table-nowrap table-align-middle">
						<thead class="thead-light" align="left">
							<tr>
								<th>Action</th>
								<th>About company</th>
								<th>About Founder</th>
								<th>Founder image</th>
							</tr>
						</thead>
						<tbody>
							<% aboutRecords.forEach((item)=>{%>
								<tr class="home-row">
									<td>
										<div class="btn-group">
											<button class="btn btn-dark text-center p-2"
												onclick="editAboutDetail('<%-item.id%>')">
												<i class="bi-pencil-square mx-1"></i>Edit
											</button>

										</div>

									</td>

									<td>
										<%- item.aboutCompany%>
									</td>
									<td>
										<%- item.aboutFounder%>
									</td>
									<td>
										<% if (item.founderImage) { %>
											<img src="http://localhost:8000/<%= item.founderImage.replace(/\\/g, '/') %>"
												class="img-fluid" alt="">
											<% } else { %>
												<span>No Thumbnail</span>
												<% } %>
									</td>
								</tr>
								<%}) %>
						</tbody>
					</table>
				</div>
				<div class="bef-germination-table-footer"></div>
			</div>
			<div class="tab-pane" id="after-germination" role="tabpanel" aria-labelledby="after-germination-tab">
				<!-- Page Header -->
				<div class="page-header">
					<div class="row align-items-center">
						<div class="col">
							<h1 class="page-header-title">
								Top Dishes </h1>
						</div>
						<!-- End Col -->
						<div class="col-auto">
							<a class="btn btn-sm btn-dark" href="javascript:void(0)" onclick="addTopDish()">
								<i class="bi-plus-circle me-1"></i>
								Add
							</a>
						</div>
						<!-- End Col -->
					</div>
					<!-- End Row -->
				</div>
				<!-- End Page Header -->

				<div class="after-germination-table-filters">
					<div class="row g-3">
						<div class="col-12 col-md-3">
							<div class="input-group input-group-sm">
								<div class="input-group-text">
									<i class="bi-search"></i>
								</div>
								<input type="search" class="form-control after-germination-table-search"
									placeholder="Search here">
							</div>
						</div>



					</div>
				</div>
				<div class="table-responsive ">
					<table id="after-germination-table"
						class="w-100 table table-bordered table-nowrap table-align-middle">
						<thead class="thead-light" align="left">
							<tr>
								<th>Action</th>
								<th>dish name</th>
								<th>dish price</th>
								<th>dish image</th>
							</tr>
						</thead>
						<tbody>
							<% topdishRecords.forEach((item)=>{%>
								<tr class="home-row">
									<td>
										<div class="btn-group">
											<button class="btn btn-dark text-center p-2"
												onclick="editTopdish('<%-item.id%>')">
												<i class="bi-pencil-square mx-1"></i>Edit
											</button>
											<button class="btn btn-danger text-center p-2"
												onclick="confirmDeletetopdish('<%-item.id%>')">
												<i class="bi-trash mx-1"></i> Delete
											</button>
										</div>

									</td>

									<td>
										<%- item.dishname%>
									</td>
									<td>
										<%- item.dishprice%>
									</td>
									<td>
										<% if (item.dishimage) { %>
											<img src="http://localhost:8000/<%= item.dishimage.replace(/\\/g, '/') %>"
												class="img-fluid" style="height: 140px; width: 220px;" alt="">
											<% } else { %>
												<span>No top dish added</span>
												<% } %>
									</td>
								</tr>
								<%}) %>
						</tbody>
					</table>
				</div>
				<div class="after-germination-table-footer"></div>
			</div>

		</div>

	</div>
	<!-- End Content -->
	<%- include('./footer.ejs');%>
		<script>
			let customerListTable = false;
			customerListTable = $('#menu-table').DataTable({
				lengthChange: true,
				columnDefs: [{
					columnDefs: [{ width: 200, targets: 0 }],
					fixedColumns: true,
					paging: false,
					scrollCollapse: true,
					scrollX: true,
				}],
				order: [
					[1, 'desc'],
					[0, 'desc']
				],
				initComplete: function (settings, json) {
					$('.dataTables_filter').hide();
					$('.menu-table-footer').append($('#menu-table_wrapper .row:last-child()')).find('.previous').addClass('ms-md-auto');
					$('.dataTables_info').before($('.dataTables_length').find('label').attr('class', 'd-inline-flex text-nowrap align-items-center gap-2'));
					$('.menu-table-search').on('input', function () {
						customerListTable.search(this.value).draw();
					});
					this.api().table().buttons().container().find('.btn-secondary').removeClass('btn-secondary');
					this.api().table().buttons().container().appendTo($('.menu-table-filters .export-buttons'));
				},
				buttons: [{
					extend: 'collection',
					text: '<i class="bi bi-cloud-download-fill"></i>',
					className: 'btn-sm btn-outline-primary',
					buttons: [{
						extend: 'copy',
						text: '<i class="bi-clipboard2-check dropdown-item-icon"></i> Copy'
					},
					{
						extend: 'excel',
						text: '<i class="bi-filetype-xlsx dropdown-item-icon"></i> Excel'
					},
					{
						extend: 'csv',
						text: '<i class="bi-filetype-csv dropdown-item-icon"></i> CSV'
					},
					{
						extend: 'pdf',
						text: '<i class="bi-filetype-pdf dropdown-item-icon"></i> PDF'
					},
					{
						extend: 'print',
						text: '<i class="bi-printer dropdown-item-icon"></i> Print'
					}
					]
				}],
			});
		</script>

		<script>
			let befGerminationListTable = false;
			befGerminationListTable = $('#bef-germination-table').DataTable({
				lengthChange: true,
				columnDefs: [{
					// targets: [0,],
					// orderable: false,
				}],
				order: [
					[1, 'desc'],
					[0, 'desc']
				],
				initComplete: function (settings, json) {
					$('.dataTables_filter').hide();
					$('.bef-germination-table-footer').append($('#bef-germination-table_wrapper .row:last-child()')).find('.previous').addClass('ms-md-auto');
					$('.dataTables_info').before($('.dataTables_length').find('label').attr('class', 'd-inline-flex text-nowrap align-items-center gap-2'));
					$('.purchase-table-search').on('input', function () {
						befGerminationListTable.search(this.value).draw();
					});
					this.api().table().buttons().container().find('.btn-secondary').removeClass('btn-secondary');
					this.api().table().buttons().container().appendTo($('.purchase-table-filters .export-buttons'));
				},
				buttons: [{
					extend: 'collection',
					text: '<i class="bi bi-cloud-download-fill"></i>',
					className: 'btn-sm btn-outline-primary',
					buttons: [{
						extend: 'copy',
						text: '<i class="bi-clipboard2-check dropdown-item-icon"></i> Copy'
					},
					{
						extend: 'excel',
						text: '<i class="bi-filetype-xlsx dropdown-item-icon"></i> Excel'
					},
					{
						extend: 'csv',
						text: '<i class="bi-filetype-csv dropdown-item-icon"></i> CSV'
					},
					{
						extend: 'pdf',
						text: '<i class="bi-filetype-pdf dropdown-item-icon"></i> PDF'
					},
					{
						extend: 'print',
						text: '<i class="bi-printer dropdown-item-icon"></i> Print'
					}
					]
				}],
			});
		</script>
		<script>
			let supplierListTable = false;
			supplierListTable = $('#after-germination-table').DataTable({
				//data: {},
				lengthChange: true,
				columnDefs: [{
					// targets: [0,],
					// orderable: false,
				}],
				order: [
					[1, 'desc'],
					[0, 'desc']
				],
				initComplete: function (settings, json) {
					$('.dataTables_filter').hide();
					$('.after-germination-table-footer').append($('#after-germination-table_wrapper .row:last-child()')).find('.previous').addClass('ms-md-auto');
					$('.after-germination-table-footer .dataTables_info').before($('.dataTables_length').find('label').attr('class', 'd-inline-flex text-nowrap align-items-center gap-2'));
					$('.after-germination-table-search').on('input', function () {
						bookingListTable.search(this.value).draw();
					});
					this.api().table().buttons().container().find('.btn-secondary').removeClass('btn-secondary');
					this.api().table().buttons().container().appendTo($('.after-germination-table-filters .export-buttons'));
				},
				buttons: [{
					extend: 'collection',
					text: '<i class="bi bi-cloud-download-fill"></i>',
					className: 'btn-sm btn-outline-primary',
					buttons: [{
						extend: 'copy',
						text: '<i class="bi-clipboard2-check dropdown-item-icon"></i> Copy'
					},
					{
						extend: 'excel',
						text: '<i class="bi-filetype-xlsx dropdown-item-icon"></i> Excel'
					},
					{
						extend: 'csv',
						text: '<i class="bi-filetype-csv dropdown-item-icon"></i> CSV'
					},
					{
						extend: 'pdf',
						text: '<i class="bi-filetype-pdf dropdown-item-icon"></i> PDF'
					},
					{
						extend: 'print',
						text: '<i class="bi-printer dropdown-item-icon"></i> Print'
					}
					]
				}]
			});
		</script>